(function(){jQuery.fn.expandOnInput=function(){function setHeight(){if(!that.is(":visible")){return}var maxHeight=parseInt(that.css("maxHeight"),10),scrollHeight=parseInt(that.attr("scrollHeight"),10);if(isNaN(maxHeight)||scrollHeight<=maxHeight){if(scrollHeight-5>that.height()){that.css("overflowY","hidden").height(scrollHeight)}}else{if(that.height!==scrollHeight){that.height(scrollHeight).css({overflowY:"",overflowX:"hidden"})}}jQuery(that).trigger("stalkerHeightUpdated")}var that=this;if(this.length===0){return this}this.bind("refreshInputHeight",function(){that.height("");setHeight()});this.unbind("keyup",setHeight).bind("keyup",function(e){setHeight();e.preventDefault()});window.setTimeout(function(){setHeight();setHeight()},0);return this}})();